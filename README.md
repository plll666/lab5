# Лабораторная работа №4  
## Казино и Гуси — симуляция с пользовательскими коллекциями

Проект реализует симуляцию казино, в которой участвуют:
- игроки,
- гуси (обычные, боевые и кричащие),
- фишки казино.

В работе используются:
- пользовательские коллекции (списковая и словарная),
- наследование,
- магические методы,
- псевдослучайная модель с возможностью фиксировать seed.

---

## Структура проекта

src/  
├── casino/  
│ ├── casino.py  
│ ├── casino_balance.py  
│ └── chip.py  
├── players/  
│ ├── player.py  
│ └── player_collection.py  
├── gooses/  
│ ├── Goose.py  
│ └── goose_collection.py  
└── main.py  

---

## Основные компоненты

### Player  
Игрок с именем и балансом.

### Goose, WarGoose, HonkGoose  
- Goose — базовый гусь  
- WarGoose — атакует игроков  
- HonkGoose — изменяет балансы игроков (реализует `__call__`)  
- Поддерживается объединение гусей через `__add__`

### Chip  
Фишка казино.  
Поддерживает `__add__` и `__radd__` (Chip + Chip, Chip + int).

### PlayerCollection / GooseCollection  
Пользовательские списковые коллекции:
- поддерживают индексацию,
- срезы,
- итерацию,
- удаление по объекту и по имени,
- поиск.

### CasinoBalance  
Пользовательская словарная коллекция, логирующая изменения балансов.

---

## Симуляция

Метод:

```
casino.run_simulation(steps, seed=None)
```
На каждом шаге случайно выбирается одно событие:
- ставка игрока
- выигрыш
- атака боевого гуся
- крик HonkGoose
- попытка кражи
- объединение гусей
- паника игрока

При передаче `seed` симуляция становится воспроизводимой.

## Запуск 

```python src/main.py```

## Тестирование

Тесты проверяют:
- коллекции
- магические методы
- поведение событий
- работу seed

## Запуск:

```pytest -v```